<<<<<<< HEAD
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Colecci√≥n completa de temas musicales de las pel√≠culas de James Bond 007. Escucha y descarga todos los temas principales desde 1962 hasta 2021." />
  <meta name="keywords" content="James Bond, 007, m√∫sica, temas, bandas sonoras, Bond songs" />
  <title>Temas musicales de 007</title>
  <style>
    :root {
      --bg: #0b0f17;
      --card: #121826;
      --text: #e6edf3;
      --muted: #9fb0c0;
      --accent: #2ea043;
      --border: #223047;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1000px 600px at 50% -200px, #1a2333 0, #0b0f17 60%, #0b0f17 100%);
      color: var(--text);
    }
    .wrap {
      max-width: 1100px;
      margin: 48px auto;
      padding: 0 16px;
    }
    header {
      text-align: center;
      margin-bottom: 20px;
    }
    h1 {
      margin: 0 0 8px;
      font-weight: 800;
      letter-spacing: .2px;
    }
    .sub {
      color: var(--muted);
      font-size: .95rem;
    }
    .inicio {
      margin-bottom: 16px;
    }
    .inicio a {
      display: inline-block;
      text-decoration: none;
      color: var(--text);
      border: 1px solid var(--border);
      padding: 8px 16px;
      border-radius: 8px;
      transition: all .2s ease;
      font-weight: 500;
    }
    .inicio a:hover {
      background: #1a2740;
      border-color: #2b3f66;
      transform: translateY(-1px);
    }
    .search-box {
      margin-bottom: 20px;
      position: relative;
    }
    .search-box input {
      width: 100%;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px 16px 12px 44px;
      color: var(--text);
      font-size: 1rem;
      transition: border-color .2s ease;
    }
    .search-box input:focus {
      outline: none;
      border-color: var(--accent);
    }
    .search-box input::placeholder {
      color: var(--muted);
    }
    .search-box::before {
      content: "üîç";
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.1rem;
      pointer-events: none;
    }
    .search-info {
      text-align: center;
      color: var(--muted);
      font-size: .9rem;
      margin-top: 8px;
      min-height: 20px;
    }
    tbody tr.hidden {
      display: none;
    }
    .playing {
      background: #1a2740 !important;
      border-left: 3px solid var(--accent);
    }
    .controls-bar {
      display: flex;
      gap: 10px;
      margin-bottom: 16px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
    }
    .decade-filters {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .decade-btn {
      background: var(--card);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: .9rem;
      transition: all .2s ease;
    }
    .decade-btn:hover {
      background: #1a2740;
      border-color: #2b3f66;
    }
    .decade-btn.active {
      background: var(--accent);
      border-color: var(--accent);
      color: #0b0f17;
      font-weight: 600;
    }
    .stats {
      color: var(--muted);
      font-size: .9rem;
      white-space: nowrap;
    }
    .sortable {
      cursor: pointer;
      user-select: none;
      position: relative;
      padding-right: 24px;
    }
    .sortable:hover {
      color: var(--accent);
    }
    .sortable::after {
      content: "‚Üï";
      position: absolute;
      right: 8px;
      opacity: .5;
      font-size: .8rem;
    }
    .sortable.sort-asc::after {
      content: "‚Üë";
      opacity: 1;
    }
    .sortable.sort-desc::after {
      content: "‚Üì";
      opacity: 1;
    }
    .autoplay-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: .9rem;
      color: var(--text);
      cursor: pointer;
      user-select: none;
    }
    .autoplay-toggle input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: var(--accent);
    }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      overflow: hidden;
    }
    .table-wrap {
      overflow-x: auto;
      border-radius: 12px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 720px;
    }
    thead th {
      position: sticky;
      top: 0;
      background: #162034;
      color: var(--text);
      text-align: left;
      font-weight: 700;
      border-bottom: 1px solid var(--border);
      padding: 14px 12px;
      z-index: 1;
    }
    tbody td {
      border-bottom: 1px solid var(--border);
      padding: 12px;
      vertical-align: middle;
      color: var(--text);
    }
    tbody tr:hover {
      background: #121a2b;
    }
    .idx {
      width: 48px;
      text-align: right;
      color: var(--muted);
    }
    .title {
      font-weight: 600;
    }
    .year {
      color: var(--muted);
      font-size: .92rem;
      white-space: nowrap;
    }
    .actions a {
      display: inline-block;
      text-decoration: none;
      color: var(--text);
      border: 1px solid var(--border);
      padding: 6px 10px;
      border-radius: 8px;
      transition: transform .04s ease, background .2s ease, border-color .2s ease;
      margin-right: 8px;
    }
    .actions a:hover {
      background: #1a2740;
      border-color: #2b3f66;
      transform: translateY(-1px);
    }
    audio { width: 260px; max-width: 100%; }
    footer {
      text-align: center;
      color: var(--muted);
      font-size: .9rem;
      margin-top: 14px;
    }

    /* Peque√±as pantallas */
    @media (max-width: 640px) {
      .actions a { margin-top: 6px; }
      .search-box input { font-size: 16px; } /* Evita zoom en iOS */
      .controls-bar {
        flex-direction: column;
        align-items: stretch;
      }
      .decade-filters {
        justify-content: center;
      }
      .stats {
        text-align: center;
      }
    }
  </style>
</head>
<body>
 
  <div class="wrap">
    <header>
      <div class="inicio" style="text-align: center;"><a href="index.html">HOME</a></div>
      <h1>Temas musicales de 007</h1>
      <div class="sub">Esta pagina web es propiedad de la patrulla canina</div>
    </header>

    <section class="card">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Buscar por t√≠tulo o a√±o..." aria-label="Buscar canciones">
        <div class="search-info" id="searchInfo" aria-live="polite"></div>
      </div>
      
      <div class="controls-bar">
        <div class="decade-filters">
          <button class="decade-btn active" data-decade="all">Todas</button>
          <button class="decade-btn" data-decade="196">60s</button>
          <button class="decade-btn" data-decade="197">70s</button>
          <button class="decade-btn" data-decade="198">80s</button>
          <button class="decade-btn" data-decade="199">90s</button>
          <button class="decade-btn" data-decade="200">00s</button>
          <button class="decade-btn" data-decade="201">10s-20s</button>
        </div>
        <div class="stats" id="statsText">25 canciones</div>
        <label class="autoplay-toggle">
          <input type="checkbox" id="autoplayToggle">
          <span>Autoplay</span>
        </label>
      </div>

      <div class="table-wrap">
        <table aria-label="Temas musicales de 007">
          <thead>
            <tr>
              <th class="idx">#</th>
              <th class="sortable" data-sort="title">T√≠tulo</th>
              <th class="sortable" data-sort="year">A√±o</th>
              <th>Reproducir</th>
              <th>Enlace</th>
            </tr>
          </thead>
          <tbody>
            <!-- 1 -->
            <tr>
              <td class="idx">1</td>
              <td class="title">Dr. No</td>
              <td class="year">1962</td>
              <td><audio controls src="musica/dr-no.mp3" preload="none" data-title="Dr. No"></audio></td>
              <td class="actions">
                <a href="musica/dr-no.mp3" download>Descargar</a>
                <a href="musica/dr-no.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 2 -->
            <tr>
              <td class="idx">2</td>
              <td class="title">From Russia with Love</td>
              <td class="year">1963</td>
              <td><audio controls src="musica/from-russia-with-love.mp3" preload="none" data-title="From Russia with Love"></audio></td>
              <td class="actions">
                <a href="musica/from-russia-with-love.mp3" download>Descargar</a>
                <a href="musica/from-russia-with-love.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 3 -->
            <tr>
              <td class="idx">3</td>
              <td class="title">Goldfinger</td>
              <td class="year">1964</td>
              <td><audio controls src="musica/goldfinger.mp3" preload="none" data-title="Goldfinger"></audio></td>
              <td class="actions">
                <a href="musica/goldfinger.mp3" download>Descargar</a>
                <a href="musica/goldfinger.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 4 -->
            <tr>
              <td class="idx">4</td>
              <td class="title">Thunderball</td>
              <td class="year">1965</td>
              <td><audio controls src="musica/thunderball.mp3" preload="none" data-title="Thunderball"></audio></td>
              <td class="actions">
                <a href="musica/thunderball.mp3" download>Descargar</a>
                <a href="musica/thunderball.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 5 -->
            <tr>
              <td class="idx">5</td>
              <td class="title">You Only Live Twice</td>
              <td class="year">1967</td>
              <td><audio controls src="musica/you-only-live-twice.mp3" preload="none" data-title="You Only Live Twice"></audio></td>
              <td class="actions">
                <a href="musica/you-only-live-twice.mp3" download>Descargar</a>
                <a href="musica/you-only-live-twice.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 6 -->
            <tr>
              <td class="idx">6</td>
              <td class="title">On Her Majesty's Secret Service</td>
              <td class="year">1969</td>
              <td><audio controls src="musica/on-her-majestys-secret-service.mp3" preload="none" data-title="On Her Majesty's Secret Service"></audio></td>
              <td class="actions">
                <a href="musica/on-her-majestys-secret-service.mp3" download>Descargar</a>
                <a href="musica/on-her-majestys-secret-service.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 7 -->
            <tr>
              <td class="idx">7</td>
              <td class="title">Diamonds Are Forever</td>
              <td class="year">1971</td>
              <td><audio controls src="musica/diamonds-are-forever.mp3" preload="none" data-title="Diamonds Are Forever"></audio></td>
              <td class="actions">
                <a href="musica/diamonds-are-forever.mp3" download>Descargar</a>
                <a href="musica/diamonds-are-forever.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 8 -->
            <tr>
              <td class="idx">8</td>
              <td class="title">Live and Let Die</td>
              <td class="year">1973</td>
              <td><audio controls src="musica/live-and-let-die.mp3" preload="none" data-title="Live and Let Die"></audio></td>
              <td class="actions">
                <a href="musica/live-and-let-die.mp3" download>Descargar</a>
                <a href="musica/live-and-let-die.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 9 -->
            <tr>
              <td class="idx">9</td>
              <td class="title">The Man with the Golden Gun</td>
              <td class="year">1974</td>
              <td><audio controls src="musica/the-man-with-the-golden-gun.mp3" preload="none" data-title="The Man with the Golden Gun"></audio></td>
              <td class="actions">
                <a href="musica/the-man-with-the-golden-gun.mp3" download>Descargar</a>
                <a href="musica/the-man-with-the-golden-gun.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 10 -->
            <tr>
              <td class="idx">10</td>
              <td class="title">The Spy Who Loved Me</td>
              <td class="year">1977</td>
              <td><audio controls src="musica/the-spy-who-loved-me.mp3" preload="none" data-title="The Spy Who Loved Me"></audio></td>
              <td class="actions">
                <a href="musica/the-spy-who-loved-me.mp3" download>Descargar</a>
                <a href="musica/the-spy-who-loved-me.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 11 -->
            <tr>
              <td class="idx">11</td>
              <td class="title">Moonraker</td>
              <td class="year">1979</td>
              <td><audio controls src="musica/moonraker.mp3" preload="none" data-title="Moonraker"></audio></td>
              <td class="actions">
                <a href="musica/moonraker.mp3" download>Descargar</a>
                <a href="musica/moonraker.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 12 -->
            <tr>
              <td class="idx">12</td>
              <td class="title">For Your Eyes Only</td>
              <td class="year">1981</td>
              <td><audio controls src="musica/for-your-eyes-only.mp3" preload="none" data-title="For Your Eyes Only"></audio></td>
              <td class="actions">
                <a href="musica/for-your-eyes-only.mp3" download>Descargar</a>
                <a href="musica/for-your-eyes-only.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 13 -->
            <tr>
              <td class="idx">13</td>
              <td class="title">Octopussy (All Time High)</td>
              <td class="year">1983</td>
              <td><audio controls src="musica/octopussy-all-time-high.mp3" preload="none" data-title="Octopussy (All Time High)"></audio></td>
              <td class="actions">
                <a href="musica/octopussy-all-time-high.mp3" download>Descargar</a>
                <a href="musica/octopussy-all-time-high.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 14 -->
            <tr>
              <td class="idx">14</td>
              <td class="title">A View to a Kill</td>
              <td class="year">1985</td>
              <td><audio controls src="musica/a-view-to-a-kill.mp3" preload="none" data-title="A View to a Kill"></audio></td>
              <td class="actions">
                <a href="musica/a-view-to-a-kill.mp3" download>Descargar</a>
                <a href="musica/a-view-to-a-kill.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 15 -->
            <tr>
              <td class="idx">15</td>
              <td class="title">The Living Daylights</td>
              <td class="year">1987</td>
              <td><audio controls src="musica/the-living-daylights.mp3" preload="none" data-title="The Living Daylights"></audio></td>
              <td class="actions">
                <a href="musica/the-living-daylights.mp3" download>Descargar</a>
                <a href="musica/the-living-daylights.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 16 -->
            <tr>
              <td class="idx">16</td>
              <td class="title">Licence to Kill</td>
              <td class="year">1989</td>
              <td><audio controls src="musica/licence-to-kill.mp3" preload="none" data-title="Licence to Kill"></audio></td>
              <td class="actions">
                <a href="musica/licence-to-kill.mp3" download>Descargar</a>
                <a href="musica/licence-to-kill.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 17 -->
            <tr>
              <td class="idx">17</td>
              <td class="title">GoldenEye</td>
              <td class="year">1995</td>
              <td><audio controls src="musica/goldeneye.mp3" preload="none" data-title="GoldenEye"></audio></td>
              <td class="actions">
                <a href="musica/goldeneye.mp3" download>Descargar</a>
                <a href="musica/goldeneye.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 18 -->
            <tr>
              <td class="idx">18</td>
              <td class="title">Tomorrow Never Dies</td>
              <td class="year">1997</td>
              <td><audio controls src="musica/tomorrow-never-dies.mp3" preload="none" data-title="Tomorrow Never Dies"></audio></td>
              <td class="actions">
                <a href="musica/tomorrow-never-dies.mp3" download>Descargar</a>
                <a href="musica/tomorrow-never-dies.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 19 -->
            <tr>
              <td class="idx">19</td>
              <td class="title">The World Is Not Enough</td>
              <td class="year">1999</td>
              <td><audio controls src="musica/the-world-is-not-enough.mp3" preload="none" data-title="The World Is Not Enough"></audio></td>
              <td class="actions">
                <a href="musica/the-world-is-not-enough.mp3" download>Descargar</a>
                <a href="musica/the-world-is-not-enough.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 20 -->
            <tr>
              <td class="idx">20</td>
              <td class="title">Die Another Day</td>
              <td class="year">2002</td>
              <td><audio controls src="musica/die-another-day.mp3" preload="none" data-title="Die Another Day"></audio></td>
              <td class="actions">
                <a href="musica/die-another-day.mp3" download>Descargar</a>
                <a href="musica/die-another-day.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 21 -->
            <tr>
              <td class="idx">21</td>
              <td class="title">Casino Royale (You Know My Name)</td>
              <td class="year">2006</td>
              <td><audio controls src="musica/casino-royale-you-know-my-name.mp3" preload="none" data-title="Casino Royale (You Know My Name)"></audio></td>
              <td class="actions">
                <a href="musica/casino-royale-you-know-my-name.mp3" download>Descargar</a>
                <a href="musica/casino-royale-you-know-my-name.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 22 -->
            <tr>
              <td class="idx">22</td>
              <td class="title">Quantum of Solace (Another Way to Die)</td>
              <td class="year">2008</td>
              <td><audio controls src="musica/quantum-of-solace-another-way-to-die.mp3" preload="none" data-title="Quantum of Solace (Another Way to Die)"></audio></td>
              <td class="actions">
                <a href="musica/quantum-of-solace-another-way-to-die.mp3" download>Descargar</a>
                <a href="musica/quantum-of-solace-another-way-to-die.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 23 -->
            <tr>
              <td class="idx">23</td>
              <td class="title">Skyfall</td>
              <td class="year">2012</td>
              <td><audio controls src="musica/skyfall.mp3" preload="none" data-title="Skyfall"></audio></td>
              <td class="actions">
                <a href="musica/skyfall.mp3" download>Descargar</a>
                <a href="musica/skyfall.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 24 -->
            <tr>
              <td class="idx">24</td>
              <td class="title">Spectre (Writing's on the Wall)</td>
              <td class="year">2015</td>
              <td><audio controls src="musica/spectre-writings-on-the-wall.mp3" preload="none" data-title="Spectre (Writing's on the Wall)"></audio></td>
              <td class="actions">
                <a href="musica/spectre-writings-on-the-wall.mp3" download>Descargar</a>
                <a href="musica/spectre-writings-on-the-wall.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 25 -->
            <tr>
              <td class="idx">25</td>
              <td class="title">No Time To Die</td>
              <td class="year">2021</td>
              <td><audio controls src="musica/no-time-to-die.mp3" preload="none" data-title="No Time To Die"></audio></td>
              <td class="actions">
                <a href="musica/no-time-to-die.mp3" download>Descargar</a>
                <a href="musica/no-time-to-die.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <footer>¬© Tu colecci√≥n Bond 2025 by Rioseras007‚Ä¢ Hecho con la ayuda de Antonio2709 y ChatGPT 4.0</footer>
    </section>
  </div>

  <script>
    // Variables globales
    const searchInput = document.getElementById('searchInput');
    const searchInfo = document.getElementById('searchInfo');
    const statsText = document.getElementById('statsText');
    const autoplayToggle = document.getElementById('autoplayToggle');
    const tbody = document.querySelector('tbody');
    let rows = Array.from(tbody.querySelectorAll('tr'));
    let currentAudio = null;
    let currentSort = { column: null, direction: 'asc' };
    let activeDecade = 'all';
    const totalSongs = rows.length;

    // Funci√≥n para actualizar estad√≠sticas
    function updateStats() {
      const visibleRows = rows.filter(row => !row.classList.contains('hidden'));
      const count = visibleRows.length;
      statsText.textContent = `${count} ${count === 1 ? 'canci√≥n' : 'canciones'}${count < totalSongs ? ` de ${totalSongs}` : ''}`;
    }

    // Funci√≥n para filtrar por b√∫squeda y d√©cada
    function updateFilters() {
      const query = searchInput.value.toLowerCase().trim();
      let visibleCount = 0;

      rows.forEach(row => {
        const title = row.querySelector('.title').textContent.toLowerCase();
        const year = row.querySelector('.year').textContent;
        const decadeMatch = activeDecade === 'all' || year.startsWith(activeDecade);
        const searchMatch = query === '' || title.includes(query) || year.includes(query);
        
        if (decadeMatch && searchMatch) {
          row.classList.remove('hidden');
          visibleCount++;
        } else {
          row.classList.add('hidden');
        }
      });

      // Actualizar mensaje informativo
      if (query === '' && activeDecade === 'all') {
        searchInfo.textContent = '';
      } else {
        searchInfo.textContent = `${visibleCount} ${visibleCount === 1 ? 'canci√≥n encontrada' : 'canciones encontradas'}`;
      }

      updateStats();
    }

    // Buscador
    searchInput.addEventListener('input', updateFilters);

    // Filtros por d√©cada
    document.querySelectorAll('.decade-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.decade-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        activeDecade = this.dataset.decade;
        updateFilters();
      });
    });

    // Ordenamiento
    document.querySelectorAll('.sortable').forEach(th => {
      th.addEventListener('click', function() {
        const sortColumn = this.dataset.sort;
        const tbody = document.querySelector('tbody');
        
        // Determinar direcci√≥n de ordenamiento
        if (currentSort.column === sortColumn) {
          currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
        } else {
          currentSort.column = sortColumn;
          currentSort.direction = 'asc';
        }

        // Remover clases de ordenamiento
        document.querySelectorAll('.sortable').forEach(h => {
          h.classList.remove('sort-asc', 'sort-desc');
        });
        
        // A√±adir clase al header actual
        this.classList.add(`sort-${currentSort.direction}`);

        // Ordenar filas
        rows = Array.from(tbody.querySelectorAll('tr'));
        rows.sort((a, b) => {
          let aVal, bVal;
          
          if (sortColumn === 'title') {
            aVal = a.querySelector('.title').textContent.toLowerCase();
            bVal = b.querySelector('.title').textContent.toLowerCase();
          } else if (sortColumn === 'year') {
            aVal = parseInt(a.querySelector('.year').textContent);
            bVal = parseInt(b.querySelector('.year').textContent);
          }

          if (aVal < bVal) return currentSort.direction === 'asc' ? -1 : 1;
          if (aVal > bVal) return currentSort.direction === 'asc' ? 1 : -1;
          return 0;
        });

        // Reordenar en el DOM
        rows.forEach(row => tbody.appendChild(row));
      });
    });

    // Funci√≥n para reproducir siguiente canci√≥n
    function playNext() {
      if (!autoplayToggle.checked || !currentAudio) return;
      
      const currentRow = currentAudio.closest('tr');
      const currentIndex = rows.indexOf(currentRow);
      let nextRow = null;

      // Buscar siguiente canci√≥n visible
      for (let i = currentIndex + 1; i < rows.length; i++) {
        if (!rows[i].classList.contains('hidden')) {
          nextRow = rows[i];
          break;
        }
      }

      // Si no hay siguiente, buscar desde el inicio
      if (!nextRow) {
        for (let i = 0; i < currentIndex; i++) {
          if (!rows[i].classList.contains('hidden')) {
            nextRow = rows[i];
            break;
          }
        }
      }

      if (nextRow) {
        const nextAudio = nextRow.querySelector('audio');
        if (nextAudio) {
          // Scroll suave a la siguiente canci√≥n
          nextRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
          setTimeout(() => nextAudio.play(), 300);
        }
      }
    }

    // Reproducci√≥n √∫nica y autoplay
    let previousAudio = null;
    document.querySelectorAll('audio').forEach(audio => {
      audio.addEventListener('play', function() {
        const isNewSong = currentAudio !== this;
        
        // Detener el audio anterior si existe
        if (currentAudio && currentAudio !== this && !currentAudio.paused) {
          currentAudio.pause();
          currentAudio.currentTime = 0;
          const prevRow = currentAudio.closest('tr');
          if (prevRow) prevRow.classList.remove('playing');
        }
        
        previousAudio = currentAudio;
        currentAudio = this;
        const currentRow = this.closest('tr');
        
        if (currentRow) {
          currentRow.classList.add('playing');
          // Scroll suave solo si es una canci√≥n diferente
          if (isNewSong && previousAudio !== this) {
            currentRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        }
      });

      audio.addEventListener('pause', function() {
        const currentRow = this.closest('tr');
        if (currentRow) currentRow.classList.remove('playing');
      });

      audio.addEventListener('ended', function() {
        const currentRow = this.closest('tr');
        if (currentRow) currentRow.classList.remove('playing');
        playNext();
      });
    });

    // Atajo de teclado: Espacio para pausar/reproducir
    document.addEventListener('keydown', function(e) {
      // No interferir si est√° escribiendo en el buscador
      if (e.target.tagName === 'INPUT') return;
      
      if (e.code === 'Space' && currentAudio) {
        e.preventDefault();
        if (currentAudio.paused) {
          currentAudio.play();
        } else {
          currentAudio.pause();
        }
      }
    });

    // Limpiar b√∫squeda con Escape
    searchInput.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        this.value = '';
        updateFilters();
        this.blur();
      }
    });

    // Inicializar estad√≠sticas
    updateStats();
  </script>
</body>
</html>
=======
<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Colecci√≥n completa de temas musicales de las pel√≠culas de James Bond 007. Escucha y descarga todos los temas principales desde 1962 hasta 2021." />
  <meta name="keywords" content="James Bond, 007, m√∫sica, temas, bandas sonoras, Bond songs" />
  <title>Temas musicales de 007</title>
  <style>
    :root {
      --bg: #0b0f17;
      --card: #121826;
      --text: #e6edf3;
      --muted: #9fb0c0;
      --accent: #2ea043;
      --border: #223047;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1000px 600px at 50% -200px, #1a2333 0, #0b0f17 60%, #0b0f17 100%);
      color: var(--text);
    }
    .wrap {
      max-width: 1100px;
      margin: 48px auto;
      padding: 0 16px;
    }
    header {
      text-align: center;
      margin-bottom: 20px;
    }
    h1 {
      margin: 0 0 8px;
      font-weight: 800;
      letter-spacing: .2px;
    }
    .sub {
      color: var(--muted);
      font-size: .95rem;
    }
    .inicio {
      margin-bottom: 16px;
    }
    .inicio a {
      display: inline-block;
      text-decoration: none;
      color: var(--text);
      border: 1px solid var(--border);
      padding: 8px 16px;
      border-radius: 8px;
      transition: all .2s ease;
      font-weight: 500;
    }
    .inicio a:hover {
      background: #1a2740;
      border-color: #2b3f66;
      transform: translateY(-1px);
    }
    .search-box {
      margin-bottom: 20px;
      position: relative;
    }
    .search-box input {
      width: 100%;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px 16px 12px 44px;
      color: var(--text);
      font-size: 1rem;
      transition: border-color .2s ease;
    }
    .search-box input:focus {
      outline: none;
      border-color: var(--accent);
    }
    .search-box input::placeholder {
      color: var(--muted);
    }
    .search-box::before {
      content: "üîç";
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.1rem;
      pointer-events: none;
    }
    .search-info {
      text-align: center;
      color: var(--muted);
      font-size: .9rem;
      margin-top: 8px;
      min-height: 20px;
    }
    tbody tr.hidden {
      display: none;
    }
    .playing {
      background: #1a2740 !important;
      border-left: 3px solid var(--accent);
    }
    .controls-bar {
      display: flex;
      gap: 10px;
      margin-bottom: 16px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
    }
    .decade-filters {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .decade-btn {
      background: var(--card);
      border: 1px solid var(--border);
      color: var(--text);
      padding: 6px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: .9rem;
      transition: all .2s ease;
    }
    .decade-btn:hover {
      background: #1a2740;
      border-color: #2b3f66;
    }
    .decade-btn.active {
      background: var(--accent);
      border-color: var(--accent);
      color: #0b0f17;
      font-weight: 600;
    }
    .stats {
      color: var(--muted);
      font-size: .9rem;
      white-space: nowrap;
    }
    .sortable {
      cursor: pointer;
      user-select: none;
      position: relative;
      padding-right: 24px;
    }
    .sortable:hover {
      color: var(--accent);
    }
    .sortable::after {
      content: "‚Üï";
      position: absolute;
      right: 8px;
      opacity: .5;
      font-size: .8rem;
    }
    .sortable.sort-asc::after {
      content: "‚Üë";
      opacity: 1;
    }
    .sortable.sort-desc::after {
      content: "‚Üì";
      opacity: 1;
    }
    .autoplay-toggle {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: .9rem;
      color: var(--text);
      cursor: pointer;
      user-select: none;
    }
    .autoplay-toggle input[type="checkbox"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: var(--accent);
    }
    .card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
      overflow: hidden;
    }
    .table-wrap {
      overflow-x: auto;
      border-radius: 12px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 720px;
    }
    thead th {
      position: sticky;
      top: 0;
      background: #162034;
      color: var(--text);
      text-align: left;
      font-weight: 700;
      border-bottom: 1px solid var(--border);
      padding: 14px 12px;
      z-index: 1;
    }
    tbody td {
      border-bottom: 1px solid var(--border);
      padding: 12px;
      vertical-align: middle;
      color: var(--text);
    }
    tbody tr:hover {
      background: #121a2b;
    }
    .idx {
      width: 48px;
      text-align: right;
      color: var(--muted);
    }
    .title {
      font-weight: 600;
    }
    .year {
      color: var(--muted);
      font-size: .92rem;
      white-space: nowrap;
    }
    .actions a {
      display: inline-block;
      text-decoration: none;
      color: var(--text);
      border: 1px solid var(--border);
      padding: 6px 10px;
      border-radius: 8px;
      transition: transform .04s ease, background .2s ease, border-color .2s ease;
      margin-right: 8px;
    }
    .actions a:hover {
      background: #1a2740;
      border-color: #2b3f66;
      transform: translateY(-1px);
    }
    audio { width: 260px; max-width: 100%; }
    footer {
      text-align: center;
      color: var(--muted);
      font-size: .9rem;
      margin-top: 14px;
    }

    /* Peque√±as pantallas */
    @media (max-width: 640px) {
      .actions a { margin-top: 6px; }
      .search-box input { font-size: 16px; } /* Evita zoom en iOS */
      .controls-bar {
        flex-direction: column;
        align-items: stretch;
      }
      .decade-filters {
        justify-content: center;
      }
      .stats {
        text-align: center;
      }
    }
  </style>
</head>
<body>
 
  <div class="wrap">
    <header>
      <div class="inicio" style="text-align: center;"><a href="index.html">HOME</a></div>
      <h1>Temas musicales de 007</h1>
      <div class="sub">Esta pagina web es propiedad de la patrulla canina</div>
    </header>

    <section class="card">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Buscar por t√≠tulo o a√±o..." aria-label="Buscar canciones">
        <div class="search-info" id="searchInfo" aria-live="polite"></div>
      </div>
      
      <div class="controls-bar">
        <div class="decade-filters">
          <button class="decade-btn active" data-decade="all">Todas</button>
          <button class="decade-btn" data-decade="196">60s</button>
          <button class="decade-btn" data-decade="197">70s</button>
          <button class="decade-btn" data-decade="198">80s</button>
          <button class="decade-btn" data-decade="199">90s</button>
          <button class="decade-btn" data-decade="200">00s</button>
          <button class="decade-btn" data-decade="201">10s-20s</button>
        </div>
        <div class="stats" id="statsText">25 canciones</div>
        <label class="autoplay-toggle">
          <input type="checkbox" id="autoplayToggle">
          <span>Autoplay</span>
        </label>
      </div>

      <div class="table-wrap">
        <table aria-label="Temas musicales de 007">
          <thead>
            <tr>
              <th class="idx">#</th>
              <th class="sortable" data-sort="title">T√≠tulo</th>
              <th class="sortable" data-sort="year">A√±o</th>
              <th>Reproducir</th>
              <th>Enlace</th>
            </tr>
          </thead>
          <tbody>
            <!-- 1 -->
            <tr>
              <td class="idx">1</td>
              <td class="title">Dr. No</td>
              <td class="year">1962</td>
              <td><audio controls src="musica/dr-no.mp3" preload="none" data-title="Dr. No"></audio></td>
              <td class="actions">
                <a href="musica/dr-no.mp3" download>Descargar</a>
                <a href="musica/dr-no.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 2 -->
            <tr>
              <td class="idx">2</td>
              <td class="title">From Russia with Love</td>
              <td class="year">1963</td>
              <td><audio controls src="musica/from-russia-with-love.mp3" preload="none" data-title="From Russia with Love"></audio></td>
              <td class="actions">
                <a href="musica/from-russia-with-love.mp3" download>Descargar</a>
                <a href="musica/from-russia-with-love.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 3 -->
            <tr>
              <td class="idx">3</td>
              <td class="title">Goldfinger</td>
              <td class="year">1964</td>
              <td><audio controls src="musica/goldfinger.mp3" preload="none" data-title="Goldfinger"></audio></td>
              <td class="actions">
                <a href="musica/goldfinger.mp3" download>Descargar</a>
                <a href="musica/goldfinger.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 4 -->
            <tr>
              <td class="idx">4</td>
              <td class="title">Thunderball</td>
              <td class="year">1965</td>
              <td><audio controls src="musica/thunderball.mp3" preload="none" data-title="Thunderball"></audio></td>
              <td class="actions">
                <a href="musica/thunderball.mp3" download>Descargar</a>
                <a href="musica/thunderball.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 5 -->
            <tr>
              <td class="idx">5</td>
              <td class="title">You Only Live Twice</td>
              <td class="year">1967</td>
              <td><audio controls src="musica/you-only-live-twice.mp3" preload="none" data-title="You Only Live Twice"></audio></td>
              <td class="actions">
                <a href="musica/you-only-live-twice.mp3" download>Descargar</a>
                <a href="musica/you-only-live-twice.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 6 -->
            <tr>
              <td class="idx">6</td>
              <td class="title">On Her Majesty's Secret Service</td>
              <td class="year">1969</td>
              <td><audio controls src="musica/on-her-majestys-secret-service.mp3" preload="none" data-title="On Her Majesty's Secret Service"></audio></td>
              <td class="actions">
                <a href="musica/on-her-majestys-secret-service.mp3" download>Descargar</a>
                <a href="musica/on-her-majestys-secret-service.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 7 -->
            <tr>
              <td class="idx">7</td>
              <td class="title">Diamonds Are Forever</td>
              <td class="year">1971</td>
              <td><audio controls src="musica/diamonds-are-forever.mp3" preload="none" data-title="Diamonds Are Forever"></audio></td>
              <td class="actions">
                <a href="musica/diamonds-are-forever.mp3" download>Descargar</a>
                <a href="musica/diamonds-are-forever.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 8 -->
            <tr>
              <td class="idx">8</td>
              <td class="title">Live and Let Die</td>
              <td class="year">1973</td>
              <td><audio controls src="musica/live-and-let-die.mp3" preload="none" data-title="Live and Let Die"></audio></td>
              <td class="actions">
                <a href="musica/live-and-let-die.mp3" download>Descargar</a>
                <a href="musica/live-and-let-die.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 9 -->
            <tr>
              <td class="idx">9</td>
              <td class="title">The Man with the Golden Gun</td>
              <td class="year">1974</td>
              <td><audio controls src="musica/the-man-with-the-golden-gun.mp3" preload="none" data-title="The Man with the Golden Gun"></audio></td>
              <td class="actions">
                <a href="musica/the-man-with-the-golden-gun.mp3" download>Descargar</a>
                <a href="musica/the-man-with-the-golden-gun.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 10 -->
            <tr>
              <td class="idx">10</td>
              <td class="title">The Spy Who Loved Me</td>
              <td class="year">1977</td>
              <td><audio controls src="musica/the-spy-who-loved-me.mp3" preload="none" data-title="The Spy Who Loved Me"></audio></td>
              <td class="actions">
                <a href="musica/the-spy-who-loved-me.mp3" download>Descargar</a>
                <a href="musica/the-spy-who-loved-me.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 11 -->
            <tr>
              <td class="idx">11</td>
              <td class="title">Moonraker</td>
              <td class="year">1979</td>
              <td><audio controls src="musica/moonraker.mp3" preload="none" data-title="Moonraker"></audio></td>
              <td class="actions">
                <a href="musica/moonraker.mp3" download>Descargar</a>
                <a href="musica/moonraker.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 12 -->
            <tr>
              <td class="idx">12</td>
              <td class="title">For Your Eyes Only</td>
              <td class="year">1981</td>
              <td><audio controls src="musica/for-your-eyes-only.mp3" preload="none" data-title="For Your Eyes Only"></audio></td>
              <td class="actions">
                <a href="musica/for-your-eyes-only.mp3" download>Descargar</a>
                <a href="musica/for-your-eyes-only.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 13 -->
            <tr>
              <td class="idx">13</td>
              <td class="title">Octopussy (All Time High)</td>
              <td class="year">1983</td>
              <td><audio controls src="musica/octopussy-all-time-high.mp3" preload="none" data-title="Octopussy (All Time High)"></audio></td>
              <td class="actions">
                <a href="musica/octopussy-all-time-high.mp3" download>Descargar</a>
                <a href="musica/octopussy-all-time-high.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 14 -->
            <tr>
              <td class="idx">14</td>
              <td class="title">A View to a Kill</td>
              <td class="year">1985</td>
              <td><audio controls src="musica/a-view-to-a-kill.mp3" preload="none" data-title="A View to a Kill"></audio></td>
              <td class="actions">
                <a href="musica/a-view-to-a-kill.mp3" download>Descargar</a>
                <a href="musica/a-view-to-a-kill.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 15 -->
            <tr>
              <td class="idx">15</td>
              <td class="title">The Living Daylights</td>
              <td class="year">1987</td>
              <td><audio controls src="musica/the-living-daylights.mp3" preload="none" data-title="The Living Daylights"></audio></td>
              <td class="actions">
                <a href="musica/the-living-daylights.mp3" download>Descargar</a>
                <a href="musica/the-living-daylights.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 16 -->
            <tr>
              <td class="idx">16</td>
              <td class="title">Licence to Kill</td>
              <td class="year">1989</td>
              <td><audio controls src="musica/licence-to-kill.mp3" preload="none" data-title="Licence to Kill"></audio></td>
              <td class="actions">
                <a href="musica/licence-to-kill.mp3" download>Descargar</a>
                <a href="musica/licence-to-kill.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 17 -->
            <tr>
              <td class="idx">17</td>
              <td class="title">GoldenEye</td>
              <td class="year">1995</td>
              <td><audio controls src="musica/goldeneye.mp3" preload="none" data-title="GoldenEye"></audio></td>
              <td class="actions">
                <a href="musica/goldeneye.mp3" download>Descargar</a>
                <a href="musica/goldeneye.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 18 -->
            <tr>
              <td class="idx">18</td>
              <td class="title">Tomorrow Never Dies</td>
              <td class="year">1997</td>
              <td><audio controls src="musica/tomorrow-never-dies.mp3" preload="none" data-title="Tomorrow Never Dies"></audio></td>
              <td class="actions">
                <a href="musica/tomorrow-never-dies.mp3" download>Descargar</a>
                <a href="musica/tomorrow-never-dies.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 19 -->
            <tr>
              <td class="idx">19</td>
              <td class="title">The World Is Not Enough</td>
              <td class="year">1999</td>
              <td><audio controls src="musica/the-world-is-not-enough.mp3" preload="none" data-title="The World Is Not Enough"></audio></td>
              <td class="actions">
                <a href="musica/the-world-is-not-enough.mp3" download>Descargar</a>
                <a href="musica/the-world-is-not-enough.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 20 -->
            <tr>
              <td class="idx">20</td>
              <td class="title">Die Another Day</td>
              <td class="year">2002</td>
              <td><audio controls src="musica/die-another-day.mp3" preload="none" data-title="Die Another Day"></audio></td>
              <td class="actions">
                <a href="musica/die-another-day.mp3" download>Descargar</a>
                <a href="musica/die-another-day.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 21 -->
            <tr>
              <td class="idx">21</td>
              <td class="title">Casino Royale (You Know My Name)</td>
              <td class="year">2006</td>
              <td><audio controls src="musica/casino-royale-you-know-my-name.mp3" preload="none" data-title="Casino Royale (You Know My Name)"></audio></td>
              <td class="actions">
                <a href="musica/casino-royale-you-know-my-name.mp3" download>Descargar</a>
                <a href="musica/casino-royale-you-know-my-name.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 22 -->
            <tr>
              <td class="idx">22</td>
              <td class="title">Quantum of Solace (Another Way to Die)</td>
              <td class="year">2008</td>
              <td><audio controls src="musica/quantum-of-solace-another-way-to-die.mp3" preload="none" data-title="Quantum of Solace (Another Way to Die)"></audio></td>
              <td class="actions">
                <a href="musica/quantum-of-solace-another-way-to-die.mp3" download>Descargar</a>
                <a href="musica/quantum-of-solace-another-way-to-die.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 23 -->
            <tr>
              <td class="idx">23</td>
              <td class="title">Skyfall</td>
              <td class="year">2012</td>
              <td><audio controls src="musica/skyfall.mp3" preload="none" data-title="Skyfall"></audio></td>
              <td class="actions">
                <a href="musica/skyfall.mp3" download>Descargar</a>
                <a href="musica/skyfall.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 24 -->
            <tr>
              <td class="idx">24</td>
              <td class="title">Spectre (Writing's on the Wall)</td>
              <td class="year">2015</td>
              <td><audio controls src="musica/spectre-writings-on-the-wall.mp3" preload="none" data-title="Spectre (Writing's on the Wall)"></audio></td>
              <td class="actions">
                <a href="musica/spectre-writings-on-the-wall.mp3" download>Descargar</a>
                <a href="musica/spectre-writings-on-the-wall.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
            <!-- 25 -->
            <tr>
              <td class="idx">25</td>
              <td class="title">No Time To Die</td>
              <td class="year">2021</td>
              <td><audio controls src="musica/no-time-to-die.mp3" preload="none" data-title="No Time To Die"></audio></td>
              <td class="actions">
                <a href="musica/no-time-to-die.mp3" download>Descargar</a>
                <a href="musica/no-time-to-die.mp3" target="_blank" rel="noopener">Abrir</a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <footer>¬© Tu colecci√≥n Bond 2025 by Rioseras007‚Ä¢ Hecho con la ayuda de Antonio2709 y ChatGPT 4.0</footer>
    </section>
  </div>

  <script>
    // Variables globales
    const searchInput = document.getElementById('searchInput');
    const searchInfo = document.getElementById('searchInfo');
    const statsText = document.getElementById('statsText');
    const autoplayToggle = document.getElementById('autoplayToggle');
    const tbody = document.querySelector('tbody');
    let rows = Array.from(tbody.querySelectorAll('tr'));
    let currentAudio = null;
    let currentSort = { column: null, direction: 'asc' };
    let activeDecade = 'all';
    const totalSongs = rows.length;

    // Funci√≥n para actualizar estad√≠sticas
    function updateStats() {
      const visibleRows = rows.filter(row => !row.classList.contains('hidden'));
      const count = visibleRows.length;
      statsText.textContent = `${count} ${count === 1 ? 'canci√≥n' : 'canciones'}${count < totalSongs ? ` de ${totalSongs}` : ''}`;
    }

    // Funci√≥n para filtrar por b√∫squeda y d√©cada
    function updateFilters() {
      const query = searchInput.value.toLowerCase().trim();
      let visibleCount = 0;

      rows.forEach(row => {
        const title = row.querySelector('.title').textContent.toLowerCase();
        const year = row.querySelector('.year').textContent;
        const decadeMatch = activeDecade === 'all' || year.startsWith(activeDecade);
        const searchMatch = query === '' || title.includes(query) || year.includes(query);
        
        if (decadeMatch && searchMatch) {
          row.classList.remove('hidden');
          visibleCount++;
        } else {
          row.classList.add('hidden');
        }
      });

      // Actualizar mensaje informativo
      if (query === '' && activeDecade === 'all') {
        searchInfo.textContent = '';
      } else {
        searchInfo.textContent = `${visibleCount} ${visibleCount === 1 ? 'canci√≥n encontrada' : 'canciones encontradas'}`;
      }

      updateStats();
    }

    // Buscador
    searchInput.addEventListener('input', updateFilters);

    // Filtros por d√©cada
    document.querySelectorAll('.decade-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.decade-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');
        activeDecade = this.dataset.decade;
        updateFilters();
      });
    });

    // Ordenamiento
    document.querySelectorAll('.sortable').forEach(th => {
      th.addEventListener('click', function() {
        const sortColumn = this.dataset.sort;
        const tbody = document.querySelector('tbody');
        
        // Determinar direcci√≥n de ordenamiento
        if (currentSort.column === sortColumn) {
          currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
        } else {
          currentSort.column = sortColumn;
          currentSort.direction = 'asc';
        }

        // Remover clases de ordenamiento
        document.querySelectorAll('.sortable').forEach(h => {
          h.classList.remove('sort-asc', 'sort-desc');
        });
        
        // A√±adir clase al header actual
        this.classList.add(`sort-${currentSort.direction}`);

        // Ordenar filas
        rows = Array.from(tbody.querySelectorAll('tr'));
        rows.sort((a, b) => {
          let aVal, bVal;
          
          if (sortColumn === 'title') {
            aVal = a.querySelector('.title').textContent.toLowerCase();
            bVal = b.querySelector('.title').textContent.toLowerCase();
          } else if (sortColumn === 'year') {
            aVal = parseInt(a.querySelector('.year').textContent);
            bVal = parseInt(b.querySelector('.year').textContent);
          }

          if (aVal < bVal) return currentSort.direction === 'asc' ? -1 : 1;
          if (aVal > bVal) return currentSort.direction === 'asc' ? 1 : -1;
          return 0;
        });

        // Reordenar en el DOM
        rows.forEach(row => tbody.appendChild(row));
      });
    });

    // Funci√≥n para reproducir siguiente canci√≥n
    function playNext() {
      if (!autoplayToggle.checked || !currentAudio) return;
      
      const currentRow = currentAudio.closest('tr');
      const currentIndex = rows.indexOf(currentRow);
      let nextRow = null;

      // Buscar siguiente canci√≥n visible
      for (let i = currentIndex + 1; i < rows.length; i++) {
        if (!rows[i].classList.contains('hidden')) {
          nextRow = rows[i];
          break;
        }
      }

      // Si no hay siguiente, buscar desde el inicio
      if (!nextRow) {
        for (let i = 0; i < currentIndex; i++) {
          if (!rows[i].classList.contains('hidden')) {
            nextRow = rows[i];
            break;
          }
        }
      }

      if (nextRow) {
        const nextAudio = nextRow.querySelector('audio');
        if (nextAudio) {
          // Scroll suave a la siguiente canci√≥n
          nextRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
          setTimeout(() => nextAudio.play(), 300);
        }
      }
    }

    // Reproducci√≥n √∫nica y autoplay
    let previousAudio = null;
    document.querySelectorAll('audio').forEach(audio => {
      audio.addEventListener('play', function() {
        const isNewSong = currentAudio !== this;
        
        // Detener el audio anterior si existe
        if (currentAudio && currentAudio !== this && !currentAudio.paused) {
          currentAudio.pause();
          currentAudio.currentTime = 0;
          const prevRow = currentAudio.closest('tr');
          if (prevRow) prevRow.classList.remove('playing');
        }
        
        previousAudio = currentAudio;
        currentAudio = this;
        const currentRow = this.closest('tr');
        
        if (currentRow) {
          currentRow.classList.add('playing');
          // Scroll suave solo si es una canci√≥n diferente
          if (isNewSong && previousAudio !== this) {
            currentRow.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }
        }
      });

      audio.addEventListener('pause', function() {
        const currentRow = this.closest('tr');
        if (currentRow) currentRow.classList.remove('playing');
      });

      audio.addEventListener('ended', function() {
        const currentRow = this.closest('tr');
        if (currentRow) currentRow.classList.remove('playing');
        playNext();
      });
    });

    // Atajo de teclado: Espacio para pausar/reproducir
    document.addEventListener('keydown', function(e) {
      // No interferir si est√° escribiendo en el buscador
      if (e.target.tagName === 'INPUT') return;
      
      if (e.code === 'Space' && currentAudio) {
        e.preventDefault();
        if (currentAudio.paused) {
          currentAudio.play();
        } else {
          currentAudio.pause();
        }
      }
    });

    // Limpiar b√∫squeda con Escape
    searchInput.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        this.value = '';
        updateFilters();
        this.blur();
      }
    });

    // Inicializar estad√≠sticas
    updateStats();
  </script>
</body>
</html>
>>>>>>> 517424b17d65c41334c832bf91bad032e9c561e9
